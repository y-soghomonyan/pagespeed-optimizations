function lazyLoadImages(imageSelectors) { if (typeof imageSelectors === 'string') { imageSelectors = [imageSelectors]; } if (!Array.isArray(imageSelectors)) { console.error('lazyLoadImages: imageSelectors must be a string or an array of strings.'); return; } window.addEventListener("load", function() { if ("IntersectionObserver" in window) { let allLazyImages = []; imageSelectors.forEach(selector => { const lazyImages = document.querySelectorAll(selector); allLazyImages = allLazyImages.concat(Array.from(lazyImages)); }); const imageObserver = new IntersectionObserver(function(entries, observer) { entries.forEach(function(entry) { if (entry.isIntersecting) { const lazyImage = entry.target; const imageUrl = lazyImage.getAttribute("data-src"); const imageSrcset = lazyImage.getAttribute("data-srcset"); lazyImage.setAttribute('src', imageUrl); lazyImage.setAttribute('srcset', imageSrcset); observer.unobserve(lazyImage); } }); }); allLazyImages.forEach(function(lazyImage) { imageObserver.observe(lazyImage); }); } else { let allLazyImages = []; imageSelectors.forEach(selector => { const lazyImages = document.querySelectorAll(selector); allLazyImages = allLazyImages.concat(Array.from(lazyImages)); }); let throttledLoad; const loadImages = function() { if (throttledLoad) { clearTimeout(throttledLoad); } throttledLoad = setTimeout(function() { const scrollY = window.pageYOffset; allLazyImages.forEach(function(image) { if (image.offsetTop < window.innerHeight + scrollY) { const imageUrl = image.dataset.src; const imageSrcset = image.dataset.srcset; image.src = imageUrl; image.srcset = imageSrcset; image.setAttribute('src', imageUrl); image.setAttribute('srcset', imageSrcset); } }); if (allLazyImages.length === 0) { document.removeEventListener("scroll", loadImages); window.removeEventListener("resize", loadImages); window.removeEventListener("orientationChange", loadImages); } }, 20); }; document.addEventListener("scroll", loadImages); window.addEventListener("resize", loadImages); window.addEventListener("orientationChange", loadImages); } }); }
function lazyLoadBackgroundImages(elementSelectors) { if (typeof elementSelectors === 'string') { elementSelectors = [elementSelectors]; } if (!Array.isArray(elementSelectors)) { console.error('lazyLoadElements: elementSelectors must be a string or an array of strings.'); return; } window.addEventListener("load", function() { if ("IntersectionObserver" in window) { let allLazyElements = []; elementSelectors.forEach(selector => { const lazyElements = document.querySelectorAll(selector); allLazyElements = allLazyElements.concat(Array.from(lazyElements)); }); const elementObserver = new IntersectionObserver(function(entries, observer) { entries.forEach(function(entry) { if (entry.isIntersecting) { const lazyElement = entry.target; lazyElement.classList.remove("lazy"); lazyElement.classList.add("lazy-loaded"); observer.unobserve(lazyElement); } }); }); allLazyElements.forEach(function(lazyElement) { elementObserver.observe(lazyElement); }); } else { let allLazyElements = []; elementSelectors.forEach(selector => { const lazyElements = document.querySelectorAll(selector); allLazyElements = allLazyElements.concat(Array.from(lazyElements)); }); let throttledLoad; const loadElements = function() { if (throttledLoad) { clearTimeout(throttledLoad); } throttledLoad = setTimeout(function() { const scrollY = window.pageYOffset; allLazyElements.forEach(function(element) { if (element.offsetTop < window.innerHeight + scrollY) { if (element.dataset.src) { element.src = element.dataset.src; } element.classList.remove("lazy"); lazyElement.classList.add("lazy-loaded"); } }); if (allLazyElements.length === 0) { document.removeEventListener("scroll", loadElements); window.removeEventListener("resize", loadElements); window.removeEventListener("orientationChange", loadElements); } }, 20); }; document.addEventListener("scroll", loadElements); window.addEventListener("resize", loadElements); window.addEventListener("orientationChange", loadElements); } }); }
window.addEventListener("load",function(){if("IntersectionObserver"in window){let e,t=document.querySelectorAll(".lazy-bg-set"),n=new IntersectionObserver(function(t,r){t.forEach(function(t){t.isIntersecting&&(t=t.target,e=t.getAttribute("data-bg-image"),t.style.backgroundImage=`url(${e})`,n.unobserve(t))})});t.forEach(function(e){n.observe(e)})}else{var t,n=function(){t&&clearTimeout(t),t=setTimeout(function(){var t=window.pageYOffset;e.forEach(function(e){e.offsetTop<window.innerHeight+t&&(e.src=e.dataset.src,img=e.getAttribute("data-bg-image"),e.style.backgroundImage=`url(${img})`)}),0==e.length&&(document.removeEventListener("scroll",n),window.removeEventListener("resize",n),window.removeEventListener("orientationChange",n))},20)};e=document.querySelectorAll(".lazy-bg-set"),document.addEventListener("scroll",n),window.addEventListener("resize",n),window.addEventListener("orientationChange",n)}});
lazyLoadImages(['.lazy-img']);
lazyLoadBackgroundImages(['.lazy', '.vc_parallax .vc_parallax-inner']);

window.addEventListener("load", function() {
    setTimeout(() => {
        document.body.classList.add('loaded');
    }, 1000);
});
